<?xml version="1.0" encoding="UTF-8"?>
<sqlset>
	<name>COMPETENCY_ACCESSMENT</name>
	<version>2.0</version>
	<description>Queries for COMPETENCY_ACCESSMENT COMPONENTS</description>
	
	<sql-query name="SELECT_CODESET_BY_ID" description="SELECT_CODESET_BY_ID"><![CDATA[
	SELECT 
		CODESET_ID,
		OBJECT_TYPE,
		OBJECT_ID,
		PARENT_CODESET_ID,
		NAME,
		CODE,
		DESCRIPTION,
		CREATION_DATE,
		MODIFIED_DATE
	FROM CA_CODESET
	WHERE CODESET_ID = ?
	]]></sql-query>	
		
	<sql-query name="INSERT_CODESET" description="INSERT_CODESET"><![CDATA[
	INSERT INTO CA_CODESET (
		CODESET_ID,
		OBJECT_TYPE,
		OBJECT_ID,
		PARENT_CODESET_ID,
		NAME,
		CODE,
		DESCRIPTION,
		CREATION_DATE,
		MODIFIED_DATE
	) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?)		
	]]></sql-query>			

	<sql-query name="UPDATE_CODESET" description="UPDATE_CODESET"><![CDATA[
	UPDATE CA_CODESET 
	SET
		PARENT_CODESET_ID = ?,
		NAME = ?,
		CODE = ?,
		DESCRIPTION = ?,
		MODIFIED_DATE = ? 
	WHERE 
		CODESET_ID = ?	
	]]></sql-query>		
		
	<sql-query name="COUNT_CODESET_BY_OBJECT_TYPE_AND_OBJECT_ID" description="COUNT_CODESET_BY_OBJECT_TYPE_AND_OBJECT_ID"><![CDATA[
	SELECT COUNT(CODESET_ID) FROM CA_CODESET 
	WHERE OBJECT_TYPE = ? AND OBJECT_ID = ?		
	]]></sql-query>			


	<sql-query name="SELECT_CODESET_IDS_BY_OBJECT_TYPE_AND_OBJECT_ID" description="SELECT_CODESET_IDS_BY_OBJECT_TYPE_AND_OBJECT_ID"><![CDATA[
	SELECT CODESET_ID FROM CA_CODESET 
	WHERE 
		OBJECT_TYPE = ? AND 
		OBJECT_ID = ?
	ORDER BY 
		CREATION_DATE, 
		CODESET_ID ASC	
	]]></sql-query>	
	
			
	<sql-query name="SELECT_ROOT_CODESET" description="SELECT_ROOT_CODESET"><![CDATA[
	SELECT CODESET_ID, CREATION_DATE FROM CA_CODESET 
	WHERE 
		OBJECT_TYPE = ? AND 
		OBJECT_ID = ?	AND 
		PARENT_CODESET_ID IS NULL
	ORDER BY CREATION_DATE ASC
	]]></sql-query>			
	
	<sql-query name="SELECT_CHILD_CODESET" description="SELECT_CHILD_CODESET"><![CDATA[
	SELECT CODESET_ID, PARENT_COMMENT_ID FROM CA_CODESET 
	WHERE 
		OBJECT_TYPE = ? AND 
		OBJECT_ID = ?	AND 
		PARENT_CODESET_ID IS NOT NULL 
	ORDER BY 
		CREATION_DATE, 
		CODESET_ID ASC	
	]]></sql-query>		

	<sql-query name="CREATE_COMPETENCY" description="CREATE_COMPETENCY"><![CDATA[
	INSERT INTO CA_COMPETENCY (
		COMPETENCY_ID,
		OBJECT_TYPE,
		OBJECT_ID,
		NAME,
		DESCRIPTION,
		COMPETENCY_LEVEL	
	) VALUES (?,?,?,?,?,?)	
	]]></sql-query>	
	
	<sql-query name="UPDATE_COMPETENCY" description="UPDATE_COMPETENCY"><![CDATA[
	UPDATE CA_COMPETENCY SET 
	NAME = ? ,
	DESCRIPTION = ?,
	COMPETENCY_LEVEL = ?
	WHERE COMPETENCY_ID = ?
	]]></sql-query>		
	
	<sql-query name="SELECT_COMPETENCY_BY_ID" description="SELECT_COMPETENCY_BY_ID"><![CDATA[
	SELECT 
		COMPETENCY_ID,
		OBJECT_TYPE,
		OBJECT_ID,
		NAME,
		DESCRIPTION,
		COMPETENCY_LEVEL		
	FROM CA_COMPETENCY
	WHERE COMPETENCY_ID = ?	
	]]></sql-query>	
	
	<sql-query name="SELECT_COMPETENCY_BY_OBJECT_TYPE_AND_OBJECT_ID_AND_NAME" description="SELECT_COMPETENCY_BY_OBJECT_TYPE_AND_OBJECT_ID_AND_NAME"><![CDATA[
	SELECT 
		COMPETENCY_ID,
		OBJECT_TYPE,
		OBJECT_ID,
		NAME,
		DESCRIPTION,
		COMPETENCY_LEVEL		
	FROM CA_COMPETENCY
	WHERE OBJECT_TYPE = ? 
	AND OBJECT_ID = ?
	AND NAME = ?
	]]></sql-query>	
	
	<sql-query name="DELETE_COMPETENCY" description="DELETE_COMPETENCY"><![CDATA[
	DELETE CA_COMPETENCY WHERE COMPETENCY_ID = ?	
	]]></sql-query>	
	
	<sql-query name="COUNT_COMPETENCY_BY_OBJECT_TYPE_AND_OBJECT_ID" description="COUNT_COMPETENCY_BY_OBJECT_TYPE_AND_OBJECT_ID"><![CDATA[
	SELECT COUNT(COMPETENCY_ID) FROM CA_COMPETENCY
	WHERE OBJECT_TYPE = ? 
	AND OBJECT_ID = ?
	]]></sql-query>		
	
	<sql-query name="SELECT_COMPETENCY_ID_BY_OBJECT_TYPE_AND_OBJECT_ID" description="SELECT_COMPETENCY_ID_BY_OBJECT_TYPE_AND_OBJECT_ID"><![CDATA[
	SELECT COMPETENCY_ID FROM CA_COMPETENCY
	WHERE OBJECT_TYPE = ? 
	AND OBJECT_ID = ?	
	]]></sql-query>	
	
	<sql-query name="SELECT_ESSENTIAL_ELEMENT_IDS_BY_COMPETENCY_ID" description="SELECT_ESSENTIAL_ELEMENT_IDS_BY_COMPETENCY_ID"><![CDATA[
	SELECT ESSENTIAL_ELEMENT_ID FROM CA_ESSENTIAL_ELEMENT
	WHERE COMPETENCY_ID = ?
	]]></sql-query>		

	<sql-query name="SELECT_ESSENTIAL_ELEMENT_BY_ID" description="SELECT_ESSENTIAL_ELEMENT_BY_ID"><![CDATA[
	SELECT 
		COMPETENCY_ID,
		ESSENTIAL_ELEMENT_ID,
		NAME,
		DESCRIPTION,
		COMPETENCY_LEVEL	
	FROM CA_ESSENTIAL_ELEMENT
	WHERE ESSENTIAL_ELEMENT_ID = ?
	]]></sql-query>		
	
	<sql-query name="UPDATE_ESSENTIAL_ELEMENT" description="UPDATE_ESSENTIAL_ELEMENT"><![CDATA[
	UPDATE CA_ESSENTIAL_ELEMENT
	SET NAME = ? ,
		COMPETENCY_LEVEL = ?	
	WHERE ESSENTIAL_ELEMENT_ID = ?
	]]></sql-query>		
	
	<sql-query name="CREATE_ESSENTIAL_ELEMENT" description="CREATE_ESSENTIAL_ELEMENT"><![CDATA[
	INSERT INTO CA_ESSENTIAL_ELEMENT (
		COMPETENCY_ID,
		ESSENTIAL_ELEMENT_ID,
		NAME,
		COMPETENCY_LEVEL	
	) VALUES (?,?,?,?)	
	]]></sql-query>		
	
	<sql-query name="COUNT_ESSENTIAL_ELEMENT_BY_COMPETENCY_ID" description="COUNT_ESSENTIAL_ELEMENT_BY_COMPETENCY_ID"><![CDATA[
	SELECT COUNT(ESSENTIAL_ELEMENT_ID) FROM CA_ESSENTIAL_ELEMENT
	WHERE COMPETENCY_ID = ?
	]]></sql-query>							
										
	<row-mapper>
		
	</row-mapper>	
						
</sqlset>